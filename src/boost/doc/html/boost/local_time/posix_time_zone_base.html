<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Class template posix_time_zone_base</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.74.3">
<link rel="home" href="../../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../../date_time/doxy.html#header.boost.date_time.local_time.posix_time_zone_hpp" title="Header &lt;boost/date_time/local_time/posix_time_zone.hpp&gt;">
<link rel="prev" href="bad_adjustment.html" title="Struct bad_adjustment">
<link rel="next" href="tz_database.html" title="Type definition tz_database">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="bad_adjustment.html"><img src="../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../date_time/doxy.html#header.boost.date_time.local_time.posix_time_zone_hpp"><img src="../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="tz_database.html"><img src="../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="refentry" lang="en">
<a name="boost.local_time.posix_time_zone_base"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class template posix_time_zone_base</span></h2>
<p>boost::local_time::posix_time_zone_base &#8212; A time zone class constructed from a POSIX time zone string. </p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="emphasis"><em>// In header: &lt;<a class="link" href="../../date_time/doxy.html#header.boost.date_time.local_time.posix_time_zone_hpp" title="Header &lt;boost/date_time/local_time/posix_time_zone.hpp&gt;">boost/date_time/local_time/posix_time_zone.hpp</a>&gt;

</em></span><span class="bold"><strong>template</strong></span>&lt;<span class="bold"><strong>typename</strong></span> CharT&gt; 
<span class="bold"><strong>class</strong></span> <a class="link" href="posix_time_zone_base.html" title="Class template posix_time_zone_base">posix_time_zone_base</a> {
<span class="bold"><strong>public</strong></span>:
  <span class="emphasis"><em>// types</em></span>
  <span class="bold"><strong>typedef</strong></span> boost::posix_time::time_duration                                                                     <a name="boost.local_time.posix_time_zone_base.time_duration_type"></a>time_duration_type;     
  <span class="bold"><strong>typedef</strong></span> date_time::time_zone_names_base&lt; CharT &gt;                                                             <a name="boost.local_time.posix_time_zone_base.time_zone_names"></a>time_zone_names;        
  <span class="bold"><strong>typedef</strong></span> date_time::time_zone_base&lt; posix_time::ptime, CharT &gt;                                                <a name="boost.local_time.posix_time_zone_base.base_type"></a>base_type;              
  <span class="bold"><strong>typedef</strong></span> base_type::string_type                                                                               <a name="boost.local_time.posix_time_zone_base.string_type"></a>string_type;            
  <span class="bold"><strong>typedef</strong></span> CharT                                                                                                <a name="boost.local_time.posix_time_zone_base.char_type"></a>char_type;              
  <span class="bold"><strong>typedef</strong></span> base_type::stringstream_type                                                                         <a name="boost.local_time.posix_time_zone_base.stringstream_type"></a>stringstream_type;      
  <span class="bold"><strong>typedef</strong></span> boost::char_separator&lt; char_type, std::char_traits&lt; char_type &gt; &gt;                                    <a name="boost.local_time.posix_time_zone_base.char_separator_type"></a>char_separator_type;    
  <span class="bold"><strong>typedef</strong></span> boost::tokenizer&lt; char_separator_type, <span class="bold"><strong>typename</strong></span> string_type::const_iterator, string_type &gt;           <a name="boost.local_time.posix_time_zone_base.tokenizer_type"></a>tokenizer_type;         
  <span class="bold"><strong>typedef</strong></span> boost::tokenizer&lt; char_separator_type, <span class="bold"><strong>typename</strong></span> string_type::const_iterator, string_type &gt;::iterator <a name="boost.local_time.posix_time_zone_base.tokenizer_iterator_type"></a>tokenizer_iterator_type;

  <span class="emphasis"><em>// <a class="link" href="posix_time_zone_base.html#boost.local_time.posix_time_zone_baseconstruct-copy-destruct">construct/copy/destruct</a></em></span>
  <a class="link" href="posix_time_zone_base.html#id695652-bb">posix_time_zone_base</a>(<span class="bold"><strong>const</strong></span> string_type &amp;);
  <a class="link" href="posix_time_zone_base.html#id695662-bb">~posix_time_zone_base</a>();

  <span class="emphasis"><em>// <a class="link" href="posix_time_zone_base.html#id659672-bb">public member functions</a></em></span>
  <span class="type">string_type</span> <a class="link" href="posix_time_zone_base.html#id659675-bb">std_zone_abbrev</a>() <span class="bold"><strong>const</strong></span>;
  <span class="type">string_type</span> <a class="link" href="posix_time_zone_base.html#id682803-bb">dst_zone_abbrev</a>() <span class="bold"><strong>const</strong></span>;
  <span class="type">string_type</span> <a class="link" href="posix_time_zone_base.html#id733874-bb">std_zone_name</a>() <span class="bold"><strong>const</strong></span>;
  <span class="type">string_type</span> <a class="link" href="posix_time_zone_base.html#id733891-bb">dst_zone_name</a>() <span class="bold"><strong>const</strong></span>;
  <span class="type"><span class="bold"><strong>bool</strong></span></span> <a class="link" href="posix_time_zone_base.html#id621714-bb">has_dst</a>() <span class="bold"><strong>const</strong></span>;
  <span class="type">posix_time::ptime</span> <a class="link" href="posix_time_zone_base.html#id621724-bb">dst_local_start_time</a>(gregorian::greg_year) <span class="bold"><strong>const</strong></span>;
  <span class="type">posix_time::ptime</span> <a class="link" href="posix_time_zone_base.html#id1174529-bb">dst_local_end_time</a>(gregorian::greg_year) <span class="bold"><strong>const</strong></span>;
  <span class="type">time_duration_type</span> <a class="link" href="posix_time_zone_base.html#id695620-bb">base_utc_offset</a>() <span class="bold"><strong>const</strong></span>;
  <span class="type">time_duration_type</span> <a class="link" href="posix_time_zone_base.html#id695630-bb">dst_offset</a>() <span class="bold"><strong>const</strong></span>;
  <span class="type">string_type</span> <a class="link" href="posix_time_zone_base.html#id695641-bb">to_posix_string</a>() <span class="bold"><strong>const</strong></span>;

  <span class="emphasis"><em>// <a class="link" href="posix_time_zone_base.html#id695663-bb">private member functions</a></em></span>
  <span class="type"><span class="bold"><strong>void</strong></span></span> <a class="link" href="posix_time_zone_base.html#id695667-bb">calc_zone</a>(<span class="bold"><strong>const</strong></span> string_type &amp;) ;
  <span class="type"><span class="bold"><strong>void</strong></span></span> <a class="link" href="posix_time_zone_base.html#id695687-bb">calc_rules</a>(<span class="bold"><strong>const</strong></span> string_type &amp;, <span class="bold"><strong>const</strong></span> string_type &amp;) ;
  <span class="type"><span class="bold"><strong>void</strong></span></span> <a class="link" href="posix_time_zone_base.html#id723825-bb">M_func</a>(<span class="bold"><strong>const</strong></span> string_type &amp;, <span class="bold"><strong>const</strong></span> string_type &amp;) ;
  <span class="type"><span class="bold"><strong>void</strong></span></span> <a class="link" href="posix_time_zone_base.html#id660103-bb">julian_no_leap</a>(<span class="bold"><strong>const</strong></span> string_type &amp;, <span class="bold"><strong>const</strong></span> string_type &amp;) ;
  <span class="type"><span class="bold"><strong>void</strong></span></span> <a class="link" href="posix_time_zone_base.html#id1176064-bb">julian_day</a>(<span class="bold"><strong>const</strong></span> string_type &amp;, <span class="bold"><strong>const</strong></span> string_type &amp;) ;

  <span class="emphasis"><em>// <a class="link" href="posix_time_zone_base.html#id1176087-bb">private static functions</a></em></span>
  <span class="type"><span class="bold"><strong>static</strong></span> std::string</span> <a class="link" href="posix_time_zone_base.html#id656174-bb">td_as_string</a>(<span class="bold"><strong>const</strong></span> time_duration_type &amp;) ;
};</pre></div>
<div class="refsect1" lang="en">
<a name="id1841938"></a><h2>Description</h2>
<p>A POSIX time zone string takes the form of:
 "std offset dst [offset],start[/time],end[/time]" (w/no spaces) 'std' specifies the abbrev of the time zone.
 'offset' is the offset from UTC.
 'dst' specifies the abbrev of the time zone during daylight savings time.
 The second offset is how many hours changed during DST. Default=1
 'start' and'end' are the dates when DST goes into (and out of) effect.
 'offset' takes the form of: [+|-]hh[:mm[:ss]] {h=0-23, m/s=0-59}
 'time' and 'offset' take the same form. Time defaults=02:00:00
 'start' and 'end' can be one of three forms:
 Mm.w.d {month=1-12, week=1-5 (5 is always last), day=0-6}
 Jn {n=1-365 Feb29 is never counted}
 n {n=0-365 Feb29 is counted in leap years}
 Example "PST-5PDT01:00:00,M4.1.0/02:00:00,M10.1.0/02:00:00" 
 Exceptions will be thrown under these conditions:
 An invalid date spec (see date class)
 A boost::local_time::bad_offset exception will be thrown for:
 A DST start or end offset that is negative or more than 24 hours
 A UTC zone that is greater than +12 or less than -12 hours
 A boost::local_time::bad_adjustment exception will be thrown for:
 A DST adjustment that is 24 hours or more (positive or negative)
 </p>
<div class="refsect2" lang="en">
<a name="id1841943"></a><h3>
<a name="boost.local_time.posix_time_zone_baseconstruct-copy-destruct"></a><code class="computeroutput">posix_time_zone_base</code> 
        public
       construct/copy/destruct</h3>
<div class="orderedlist"><ol type="1">
<li>
<pre class="literallayout"><a name="id695652-bb"></a>posix_time_zone_base(<span class="bold"><strong>const</strong></span> string_type &amp; s);</pre>Construct from a POSIX time zone string. </li>
<li><pre class="literallayout"><a name="id695662-bb"></a>~posix_time_zone_base();</pre></li>
</ol></div>
</div>
<div class="refsect2" lang="en">
<a name="id1841998"></a><h3>
<a name="id659672-bb"></a><code class="computeroutput">posix_time_zone_base</code> public member functions</h3>
<div class="orderedlist"><ol type="1">
<li>
<pre class="literallayout"><span class="type">string_type</span> <a name="id659675-bb"></a>std_zone_abbrev() <span class="bold"><strong>const</strong></span>;</pre>String for the zone when not in daylight savings (eg: EST). </li>
<li>
<pre class="literallayout"><span class="type">string_type</span> <a name="id682803-bb"></a>dst_zone_abbrev() <span class="bold"><strong>const</strong></span>;</pre>String for the timezone when in daylight savings (eg: EDT). <p>For those time zones that have no DST, an empty string is used </p>
</li>
<li>
<pre class="literallayout"><span class="type">string_type</span> <a name="id733874-bb"></a>std_zone_name() <span class="bold"><strong>const</strong></span>;</pre>String for the zone when not in daylight savings (eg: Eastern Standard Time). <p>The full STD name is not extracted from the posix time zone string. Therefore, the STD abbreviation is used in it's place </p>
</li>
<li>
<pre class="literallayout"><span class="type">string_type</span> <a name="id733891-bb"></a>dst_zone_name() <span class="bold"><strong>const</strong></span>;</pre>String for the timezone when in daylight savings (eg: Eastern Daylight Time). <p>The full DST name is not extracted from the posix time zone string. Therefore, the STD abbreviation is used in it's place. For time zones that have no DST, an empty string is used </p>
</li>
<li>
<pre class="literallayout"><span class="type"><span class="bold"><strong>bool</strong></span></span> <a name="id621714-bb"></a>has_dst() <span class="bold"><strong>const</strong></span>;</pre>True if zone uses daylight savings adjustments otherwise false. </li>
<li>
<pre class="literallayout"><span class="type">posix_time::ptime</span> <a name="id621724-bb"></a>dst_local_start_time(gregorian::greg_year y) <span class="bold"><strong>const</strong></span>;</pre>Local time that DST starts -- NADT if has_dst is false. </li>
<li>
<pre class="literallayout"><span class="type">posix_time::ptime</span> <a name="id1174529-bb"></a>dst_local_end_time(gregorian::greg_year y) <span class="bold"><strong>const</strong></span>;</pre>Local time that DST ends -- NADT if has_dst is false. </li>
<li>
<pre class="literallayout"><span class="type">time_duration_type</span> <a name="id695620-bb"></a>base_utc_offset() <span class="bold"><strong>const</strong></span>;</pre>Base offset from UTC for zone (eg: -07:30:00). </li>
<li>
<pre class="literallayout"><span class="type">time_duration_type</span> <a name="id695630-bb"></a>dst_offset() <span class="bold"><strong>const</strong></span>;</pre>Adjustment forward or back made while DST is in effect. </li>
<li>
<pre class="literallayout"><span class="type">string_type</span> <a name="id695641-bb"></a>to_posix_string() <span class="bold"><strong>const</strong></span>;</pre>Returns a POSIX time_zone string for this object. </li>
</ol></div>
</div>
<div class="refsect2" lang="en">
<a name="id1842282"></a><h3>
<a name="id695663-bb"></a><code class="computeroutput">posix_time_zone_base</code> private member functions</h3>
<div class="orderedlist"><ol type="1">
<li>
<pre class="literallayout"><span class="type"><span class="bold"><strong>void</strong></span></span> <a name="id695667-bb"></a>calc_zone(<span class="bold"><strong>const</strong></span> string_type &amp; obj) ;</pre>
<p>Extract time zone abbreviations for STD &amp; DST as well as the offsets for the time shift that occurs and how much of a shift. At this time full time zone names are NOT extracted so the abbreviations are used in their place </p>
</li>
<li><pre class="literallayout"><span class="type"><span class="bold"><strong>void</strong></span></span> <a name="id695687-bb"></a>calc_rules(<span class="bold"><strong>const</strong></span> string_type &amp; start, <span class="bold"><strong>const</strong></span> string_type &amp; end) ;</pre></li>
<li><pre class="literallayout"><span class="type"><span class="bold"><strong>void</strong></span></span> <a name="id723825-bb"></a>M_func(<span class="bold"><strong>const</strong></span> string_type &amp; s, <span class="bold"><strong>const</strong></span> string_type &amp; e) ;</pre></li>
<li>
<pre class="literallayout"><span class="type"><span class="bold"><strong>void</strong></span></span> <a name="id660103-bb"></a>julian_no_leap(<span class="bold"><strong>const</strong></span> string_type &amp; s, <span class="bold"><strong>const</strong></span> string_type &amp; e) ;</pre>Julian day. Feb29 is never counted, even in leap years. </li>
<li>
<pre class="literallayout"><span class="type"><span class="bold"><strong>void</strong></span></span> <a name="id1176064-bb"></a>julian_day(<span class="bold"><strong>const</strong></span> string_type &amp; s, <span class="bold"><strong>const</strong></span> string_type &amp; e) ;</pre>Julian day. Feb29 is always counted, but exception thrown in non-leap years. </li>
</ol></div>
</div>
<div class="refsect2" lang="en">
<a name="id1842461"></a><h3>
<a name="id1176087-bb"></a><code class="computeroutput">posix_time_zone_base</code> private static functions</h3>
<div class="orderedlist"><ol type="1"><li>
<pre class="literallayout"><span class="type"><span class="bold"><strong>static</strong></span> std::string</span> <a name="id656174-bb"></a>td_as_string(<span class="bold"><strong>const</strong></span> time_duration_type &amp; td) ;</pre>helper function used when throwing exceptions </li></ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2001-2005 CrystalClear Software, Inc<p>Subject to the Boost Software License, Version 1.0. (See accompanying file
    <code class="filename">LICENSE_1_0.txt</code> or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)</p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="bad_adjustment.html"><img src="../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../date_time/doxy.html#header.boost.date_time.local_time.posix_time_zone_hpp"><img src="../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="tz_database.html"><img src="../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
