<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Class windows_shared_memory</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.74.3">
<link rel="home" href="../../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../../boost_interprocess_reference.html#header.boost.interprocess.windows_shared_memory_hpp" title="Header &lt;boost/interprocess/windows_shared_memory.hpp&gt;">
<link rel="prev" href="upgradable_lock.html" title="Class template upgradable_lock">
<link rel="next" href="../../intrusive.html" title="Chapter 10. Boost.Intrusive">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="upgradable_lock.html"><img src="../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../boost_interprocess_reference.html#header.boost.interprocess.windows_shared_memory_hpp"><img src="../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="../../intrusive.html"><img src="../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="refentry" lang="en">
<a name="boost.interprocess.windows_shared_memory"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class windows_shared_memory</span></h2>
<p>boost::interprocess::windows_shared_memory</p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="emphasis"><em>// In header: &lt;<a class="link" href="../../boost_interprocess_reference.html#header.boost.interprocess.windows_shared_memory_hpp" title="Header &lt;boost/interprocess/windows_shared_memory.hpp&gt;">boost/interprocess/windows_shared_memory.hpp</a>&gt;

</em></span>
<span class="bold"><strong>class</strong></span> <a class="link" href="windows_shared_memory.html" title="Class windows_shared_memory">windows_shared_memory</a> {
<span class="bold"><strong>public</strong></span>:
  <span class="emphasis"><em>// <a class="link" href="windows_shared_memory.html#boost.interprocess.windows_shared_memoryconstruct-copy-destruct">construct/copy/destruct</a></em></span>
  <a class="link" href="windows_shared_memory.html#id1776135-bb">windows_shared_memory</a>();
  <a class="link" href="windows_shared_memory.html#id1776141-bb">windows_shared_memory</a>(<a class="link" href="create_only_t.html" title="Struct create_only_t">create_only_t</a>, <span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> *, mode_t, std::size_t);
  <a class="link" href="windows_shared_memory.html#id1776171-bb">windows_shared_memory</a>(<a class="link" href="open_or_create_t.html" title="Struct open_or_create_t">open_or_create_t</a>, <span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> *, mode_t, std::size_t);
  <a class="link" href="windows_shared_memory.html#id1776202-bb">windows_shared_memory</a>(<a class="link" href="open_only_t.html" title="Struct open_only_t">open_only_t</a>, <span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> *, mode_t);
  <a class="link" href="windows_shared_memory.html#id1776227-bb">windows_shared_memory</a>(<a class="link" href="windows_shared_memory.html" title="Class windows_shared_memory">windows_shared_memory</a> &amp;&amp;);
  windows_shared_memory&amp; <a class="link" href="windows_shared_memory.html#id1776242-bb"><span class="bold"><strong>operator</strong></span>=</a>(<a class="link" href="windows_shared_memory.html" title="Class windows_shared_memory">windows_shared_memory</a> &amp;&amp;);
  <a class="link" href="windows_shared_memory.html#id1776257-bb">~windows_shared_memory</a>();

  <span class="emphasis"><em>// <a class="link" href="windows_shared_memory.html#id1776080-bb">public member functions</a></em></span>
  <span class="type"><span class="bold"><strong>void</strong></span></span> <a class="link" href="windows_shared_memory.html#id1776084-bb">swap</a>(<a class="link" href="windows_shared_memory.html" title="Class windows_shared_memory">windows_shared_memory</a> &amp;) ;
  <span class="type"><span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> *</span> <a class="link" href="windows_shared_memory.html#id1776103-bb">get_name</a>() <span class="bold"><strong>const</strong></span>;
  <span class="type">mode_t</span> <a class="link" href="windows_shared_memory.html#id1776113-bb">get_mode</a>() <span class="bold"><strong>const</strong></span>;
  <span class="type">mapping_handle_t</span> <a class="link" href="windows_shared_memory.html#id1776124-bb">get_mapping_handle</a>() <span class="bold"><strong>const</strong></span>;
};</pre></div>
<div class="refsect1" lang="en">
<a name="id2258248"></a><h2>Description</h2>
<p>A class that wraps the native Windows shared memory that is implemented as a file mapping of the paging file. Unlike shared_memory_object, windows_shared_memory has no kernel persistence and the shared memory is destroyed when all processes destroy all their windows_shared_memory objects and mapped regions for the same shared memory or the processes end/crash.</p>
<p>Warning: Windows native shared memory and interprocess portable shared memory (boost::interprocess::shared_memory_object) can't communicate between them. </p>
<div class="refsect2" lang="en">
<a name="id2258265"></a><h3>
<a name="boost.interprocess.windows_shared_memoryconstruct-copy-destruct"></a><code class="computeroutput">windows_shared_memory</code> 
        public
       construct/copy/destruct</h3>
<div class="orderedlist"><ol type="1">
<li>
<pre class="literallayout"><a name="id1776135-bb"></a>windows_shared_memory();</pre>
<p>Default constructor. Represents an empty windows_shared_memory. </p>
</li>
<li>
<pre class="literallayout"><a name="id1776141-bb"></a>windows_shared_memory(<a class="link" href="create_only_t.html" title="Struct create_only_t">create_only_t</a>, <span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> * name, mode_t mode, 
                      std::size_t size);</pre>
<p>Creates a new native shared memory with name "name" and mode "mode", with the access mode "mode". If the file previously exists, throws an error. </p>
</li>
<li>
<pre class="literallayout"><a name="id1776171-bb"></a>windows_shared_memory(<a class="link" href="open_or_create_t.html" title="Struct open_or_create_t">open_or_create_t</a>, <span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> * name, mode_t mode, 
                      std::size_t size);</pre>
<p>Tries to create a shared memory object with name "name" and mode "mode", with the access mode "mode". If the file previously exists, it tries to open it with mode "mode". Otherwise throws an error. </p>
</li>
<li>
<pre class="literallayout"><a name="id1776202-bb"></a>windows_shared_memory(<a class="link" href="open_only_t.html" title="Struct open_only_t">open_only_t</a>, <span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> * name, mode_t mode);</pre>
<p>Tries to open a shared memory object with name "name", with the access mode "mode". If the file does not previously exist, it throws an error. </p>
</li>
<li>
<pre class="literallayout"><a name="id1776227-bb"></a>windows_shared_memory(<a class="link" href="windows_shared_memory.html" title="Class windows_shared_memory">windows_shared_memory</a> &amp;&amp; moved);</pre>
<p>Moves the ownership of "moved"'s shared memory object to *this. After the call, "moved" does not represent any shared memory object. Does not throw </p>
</li>
<li>
<pre class="literallayout">windows_shared_memory&amp; <a name="id1776242-bb"></a><span class="bold"><strong>operator</strong></span>=(<a class="link" href="windows_shared_memory.html" title="Class windows_shared_memory">windows_shared_memory</a> &amp;&amp; moved);</pre>
<p>Moves the ownership of "moved"'s shared memory to *this. After the call, "moved" does not represent any shared memory. Does not throw </p>
</li>
<li>
<pre class="literallayout"><a name="id1776257-bb"></a>~windows_shared_memory();</pre>
<p>Destroys *this. All mapped regions are still valid after destruction. When all mapped regions and windows_shared_memory objects referring the shared memory are destroyed, the operating system will destroy the shared memory. </p>
</li>
</ol></div>
</div>
<div class="refsect2" lang="en">
<a name="id2258497"></a><h3>
<a name="id1776080-bb"></a><code class="computeroutput">windows_shared_memory</code> public member functions</h3>
<div class="orderedlist"><ol type="1">
<li>
<pre class="literallayout"><span class="type"><span class="bold"><strong>void</strong></span></span> <a name="id1776084-bb"></a>swap(<a class="link" href="windows_shared_memory.html" title="Class windows_shared_memory">windows_shared_memory</a> &amp; other) ;</pre>Swaps to shared_memory_objects. Does not throw. </li>
<li>
<pre class="literallayout"><span class="type"><span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> *</span> <a name="id1776103-bb"></a>get_name() <span class="bold"><strong>const</strong></span>;</pre>Returns the name of the shared memory. </li>
<li>
<pre class="literallayout"><span class="type">mode_t</span> <a name="id1776113-bb"></a>get_mode() <span class="bold"><strong>const</strong></span>;</pre>Returns access mode. </li>
<li>
<pre class="literallayout"><span class="type">mapping_handle_t</span> <a name="id1776124-bb"></a>get_mapping_handle() <span class="bold"><strong>const</strong></span>;</pre>Returns the mapping handle. Never throws. </li>
</ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2005 - 2008 Ion Gaztañaga<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="upgradable_lock.html"><img src="../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../boost_interprocess_reference.html#header.boost.interprocess.windows_shared_memory_hpp"><img src="../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="../../intrusive.html"><img src="../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
